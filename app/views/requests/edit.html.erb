Editing request #<%= @request.id %>
<%= form_with(model: @request, local: true) do |f| %>

<% if @request.errors.any? %>
  <% @request.errors.full_messages.each do |m| %>
    <%= m %><br>
  <% end %>
<% end %>

  <div class="form-group">
    <%= tag.small "client name", class: 'ml-2 form-text'%>
    <%= f.text_field :client_name, class: 'form-control col-md-6' %>
  </div>
  <div id="availabilities" class="form-group">
      <%= f.fields_for :availabilities do |a| %>
        <%= render 'availability_fields', :f => a %>
      <% end %>
      <div class="add-availabilities">
        <%= link_to_add_association "add date & time range", f, :availabilities, html_options = { class: 'btn btn-sm btn-outline-light'} %>
      </div>
  </div>
  <div class="form-group">
    <%= tag.small "subject", class: 'ml-2 form-text'%>
    <%= f.text_field :subject, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= tag.small "message", class: 'form-text ml-2'%>
    <%= f.text_area :body, class: 'form-control' %>
    <small class="form-text text-light ml-2">message must be between 3 and 300 characters</small>
  </div>
  <!--  -->
  <% "First check if object has persisted in the database before allowing for the checkbox to exist" %>
  <% if f.object.persisted? %>
    <div class="form-group">
      <%= f.check_box :status, {}, "completed", "active" %> Completed?
    </div>
  <% end %>
  <div class="form-group">
    <%= f.submit class: 'btn btn-success' %>
    <%= link_to "delete", @request, method: :delete, class: 'btn btn-danger', data: {confirm: "are you sure?"} %>
  </div>
</div>
<% end %>
